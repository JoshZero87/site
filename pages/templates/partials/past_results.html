{% load pages_tags wagtailcore_tags %}

<div class="container-fluid pt4 pb4 fafafa-bg">
  <div class="row">

    <div class="container">
      <div class="row">

        <div class="col-md-6 col-md-offset-3">

          <h2 class="mb20">
            Past Election Results
          </h2>

          {% results_url as link_url %}
          {% if link_url != request.path %}
          <a href="{{ link_url }}"
          class="btn btn-block btn-primary ls2 uppercase">
          2018 Results
          </a>
          {% endif %}

          {% results_2017_url as link_url %}
          {% if link_url != request.path %}
          <a href="{{ link_url }}"
          class="btn btn-block btn-primary ls2 uppercase">
          2017 Results
          </a>
          {% endif %}

          {% results_2016_url as link_url %}
          {% if link_url != request.path %}
          <a href="{{ link_url }}"
          class="btn btn-block btn-primary ls2 uppercase">
          2016 Results
          </a>
          {% endif %}

          {% comment %}Wagtail places HTML tags in blank RichTextFields, so a
          blank RichTextField evaluates as a string instead of None. We need
          to strip tags to make sure they properly evaluate as None and so we
          don't put linebreaks on the page when empty. This is fixed in Wagtail
          2.2.2.

          See: https://github.com/wagtail/wagtail/issues/2336
          {% endcomment %}
          {% if page.secondary_copy|striptags %}
          <hr>
          {{ page.secondary_copy|richtext }}

          {% if page.button_show %}
          <a href="/groups/nominations"
          class="btn btn-success btn-block ls2 uppercase mt20">
            Get Started
          </a>
          {% endif %}
          {% endif %}
        </div>

      </div>
    </div>

  </div>
</div>
